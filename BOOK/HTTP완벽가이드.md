
## HTTP 완벽 가이드 
![http완벽가이드](https://user-images.githubusercontent.com/46988995/88808489-e9e86f80-d1ed-11ea-80cc-b9b06fe49905.jpg)
### 목차
+ [1. 웹의 기초](#1.-웹의-기초)
    + [1-1) HTTP 개관](#http-개관)
    + [1-2) URL과 리소스](#URL과-리소스)

- - -
### 1. 웹의 기초
+ 1-1) HTTP 개관
    +  **웹 클라이언트와 서버**
        + 웹 서버는 HTTP 프로토콜로 의사소통 → HTTP 서버라고도 불린다.
        + 클라이언트 → HTTP 요청(Request) → 서버
        + 서버 → HTTP 응답(Response) -> 클라이언트
    
    + **웹 리소스**
        + 웹 서버는 웹 리소스를 관리하고 저장한다. (웹 컨텐츠)
        + 리소스는 정적(Static)파일일 수도 있고, 동적 파일일 수도 있다.
    
    + **미디어타입(MIME)**
        + HTTP는 웹에서 전송되는 객체 각각에 MIME 타입이라는 데이터 포맷 라벨을 붙인다. (대부분의 웹브라우저에서 지원)
        + 수 많은 데이터 타입(영상, 텍스트, 이미지 등등..)을 효율적으로 다루기 위해 필요로 한다.
    + **URI(Uniform Resource Identifier)**
        + 리소스별 식별자 같은 개념이다.
        + URI에는 URL과 URN이 있다.
    + **HTTP 메소드**
        | Method | Description |
        | ------ | ----------- |
        | GET | 서버에서 클라이언트로 지정한 리소스를 전송 |
        | PUT | 클라이언트에서 서버로 보낸 데이터를 특정 이름의 리소스로 전송 |
        | DELETE | 지정한 리소스를 서버에서 삭제 |
        | POST | 클라이언트 데이터를 서버 게이트웨이 애플리케이션으로 전송 |
        | HEAD | 지정한 리소스에 대한 응답에서, 헤더 값만 전송 |

    + **HTTP 상태코드**
        + 모든 HTTP 응답 메시지는 상태 코드와 함께 반환ㄱㄱ
            | Code | Description |
            | ------ | ----------- |
            | 200 | 올바르게 반환 |
            | 302 | 재전송 요청, 다른 곳에 있는 리소스를 반환하도록 요청 |
            | 404 | 리소스를 찾을 수 없음 |
    
    + **TCP 커넥션**
        + HTTP 메시지를 주고받은 과정
            1. 웹브라우저는 서버의 URL에서 호스트 명을 추출
            2. 웹브라우저는 서버의 호스트명을 IP주소로 반환
            3. 웹브라우저는 URL에서 포트번호를 추출(없다면 기본 값 80)
            4. 웹브라우저는 웹 서버와 TCP 커넥션을 맺음
            5. 웹브라우저는 서버에 HTTP 요청 → 서버는 웹브라우저에게 HTTP 응답
            6. 커넥션이 닫히고 웹브라우저는 문서(리소스)를 출력

    + **웹의 구성요소**
        - 프락시서버
            + 클라이언트와 서버 중간에 위치, 클라이언트의 모든 HTTP 요청을 받아 전달
            + 웹 트래픽 속에서 신뢰할만한 중개자 역할(보안)
        - 캐시
            + 웹 서버보다 더 빨리 리소스를 가져오기 위해 저장하는 리소스의 사본
            + 웹 캐시, 프락시 캐시
        - 게이트웨이
            + 다른 서버들의 중개자로 동작하는 서버
            + HTTP 트래픽을 다른 프로토콜로 변환
+ 1-2) URL과 리소스
    + **URL(Uniform Resource Locator)**
        + 인터넷의 리소스를 가리키는 표준이름
        + 웹 브라우저가 정보를 찾는데 필요한 리소스의 위치를 가리킴
    
    + **URL의 구조**
        + `스킴://서버위치/경로` 구조로 이루어져 있다.
        + 이러한 구조를 가지게되면서 브라우저가 더 영리하게 리소스에 접근하고 다룰 수 있게 되었다.

    + **URL 문법**
        + 필자의 깃 주소를 예를 들면
            + > https://github.com/yondo123/
                + 스킴 : 어떤 프로토콜을 사용할 것인지? → https
                    + 스킴은 대소문자를 가리지 않는다.
                + 사용자 이름 : 보통 `ftp` 프로토콜에서 사용한다 (기본 값 : anonymous)
                + 호스트 : 리소스를 호스팅하는 서버의 호스트명 또는 IP 주소 → github.com
                + 포트 : 호스팅하는 서버가 열어놓은 포트번호  → 깃허브 https의 기본 포트번호는 443이다. (http는 80)
                + 경로 : 서버 내 리소스가 어디에 있는지?  → /yondo123
                + 질의어 : 요청받은 리소스 형식의 범위를 좁히기 위해 사용
                    > /search/all?frm=NVSHPRC&maxPrice=40000&minPrice=20000&minPrice-maxPrice=20000-40000 (흔한 쇼핑몰 질의 방식)
                    + 보통 '&'로 구분하여 `'key=value'` 형식으로 많이 사용한다. 
    
    + **URL 확장**
        + 브라우저 마다 URL을 입력한 다음 자동으로 URL을 확장(생성) 해주는 기능
        + 1. 호스트명 확장
            + 호스트명만 입력하면 자동으로 'www'와 'com'을 붙여서 URL을 생성한다.
        + 2. 히스토리 확장
            + 사용자가 과거에 방문했던 URL의 기록을 저장하고 자동으로 URL을 선택해주게 하는 것

    + **안전한 전송**
        + 정보가 유실될 위험 없이 URL을 전송할 수 있다.
        + RFC 2396 (URI 포맷 정의 기관)에서는 어플리케이션이 공백을 무시하기를 권고하고 있다.
        + **인코딩 체계**
            - URL에 있는 안전하지 않은 문자들을 표현할 수 있는 인코딩 방식 고안
            - 안전하지 않은 문자를 '%'기호 + ASCII코드의 16진수 이스케이프 문자를 합쳐 바꾼다.
                | Char | ASCII | URL |
                | ------ | ----------- | ------| 
                | ~ | 26(0x7E) | /%7E
                | 공백 | 32(0x20) | /%20
                | % | 37(0x25) | /%25
    
    + **문자 제한**
        + URL에서 흔히 사용하는 문자(예약어)를 본래의 용도가 아닌 다른 용도로 사용하는 경우, 반드시 인코딩 해야 한다.
            | Char | 제한 |
            | --- | --- |
            | % | 인코딩된 문자에 사용할 이스케이프 토큰 |
            | / | 경로 컴포넌트에있는 경로 세그먼트를 나누는 용도 |
            | . | 경로 컴포넌트 |
            | .. | 경로 컴포넌트 |
            | # | 프래그먼트의 구획 문자 |
            | ? | 질의 문자열의 구획 문자  |
            | ; | 파라미터의 구획 문자 |
            | : | 스킴, 사용자이름/비밀번호, 호스트/포트의 구획 문자 |
            | $, + | 선점 |
            | @ & = | 특정 스킴에서 특별한 의미가 있음 |
            | {} `|`\ · ~ [] ` | 게이트웨이와 같은 여러 전송 에이전트에서 불안전하게 다루기 때문에 제한 |
            | <> " | URL을 구분지어 표시하듯이 URL 범위 밖에서 역할이 있는 문자이기 때문에 제한 |
            | 0x00-0x1F, 0x7F | US-ASCII에서 인쇄되지 않는 문자 범위 |
            | > 0x7F | 7비트의 US-ASCII 문자가 아니기 떄문에 제한 |

    


